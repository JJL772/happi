

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>happi.backends.qs_db.QSBackend &mdash; Happi Deck 1.7.2+8.g8560e1f documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Containers" href="../containers.html" />
    <link rel="prev" title="happi.backends.json_db.JSONBackend" href="happi.backends.json_db.JSONBackend.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Happi Deck
          

          
          </a>

          
            
            
              <div class="version">
                1.7.2+8.g8560e1f
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../conventions.html">Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client.html">Using the Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">Creating New Device Types</a></li>
</ul>
<p class="caption"><span class="caption-text">API Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../client_api.html">Client API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../backends.html">Supported Backends</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../backends.html#backend-choices">Backend Choices</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="happi.backends.mongo_db.MongoBackend.html">happi.backends.mongo_db.MongoBackend</a></li>
<li class="toctree-l3"><a class="reference internal" href="happi.backends.json_db.JSONBackend.html">happi.backends.json_db.JSONBackend</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">happi.backends.qs_db.QSBackend</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../containers.html">Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command Line Utilities</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../releases.html">Release History</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Happi Deck</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../backends.html">Supported Backends</a> &raquo;</li>
        
      <li>happi.backends.qs_db.QSBackend</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/generated/happi.backends.qs_db.QSBackend.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="happi-backends-qs-db-qsbackend">
<h1>happi.backends.qs_db.QSBackend<a class="headerlink" href="#happi-backends-qs-db-qsbackend" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="happi.backends.qs_db.QSBackend">
<em class="property">class </em><code class="sig-prename descclassname">happi.backends.qs_db.</code><code class="sig-name descname">QSBackend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">expname</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.backends.qs_db.QSBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>Questionniare Backend</p>
<p>This backend connects to the LCLS questionnaire and looks at devices with
the key pattern pcds-{}-setup-{}-{}. These fields are then combined and
turned into proper happi devices. The translation of table name to
<code class="docutils literal notranslate"><span class="pre">happi.HappiItem</span></code> is determined by the <code class="xref py py-attr docutils literal notranslate"><span class="pre">device_translations</span></code>
dictionary. The beamline is determined by looking where the proposal was
submitted.</p>
<p>Unlike the other backends, this one is read-only. All changes to the device
information should be done via the web interface. Finally, in order to
avoid duplicating any code needed to search the device database, the
QSBackend inherits directly from JSONBackend. Many of the functions are
unmodified with exception being that this backend merely searchs through an
in memory dictionary while the JSONBackend reads from the file before
searches.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>expname</strong> (<em>str</em>) – The experiment name from the elog, e.g. xcslp1915</p>
</dd>
</dl>
<dl class="py method">
<dt id="happi.backends.qs_db.QSBackend.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">expname</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.backends.qs_db.QSBackend.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#happi.backends.qs_db.QSBackend.__init__" title="happi.backends.qs_db.QSBackend.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(expname, **kwargs)</p></td>
<td><p>Initialize self.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">delete</span></code>(_id)</p></td>
<td><p>The current implementation of this backend is read-only</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">find</span></code>(to_match)</p></td>
<td><p>Find an instance or instances that matches the search criteria</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_range</span></code>(key, *, start[, stop])</p></td>
<td><p>Find an instance or instances that matches the search criteria, such that <code class="docutils literal notranslate"><span class="pre">start</span> <span class="pre">&lt;=</span> <span class="pre">entry[key]</span> <span class="pre">&lt;</span> <span class="pre">stop</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_regex</span></code>(to_match, *[, flags])</p></td>
<td><p>Find an instance or instances that matches the search criteria, using regular expressions.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_by_id</span></code>(id_)</p></td>
<td><p>Get a device by ID if it exists, or None</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">initialize</span></code>()</p></td>
<td><p>Can not initialize a new Questionnaire entry from API</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code>()</p></td>
<td><p>Return the structured dictionary of information</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">save</span></code>(*args, **kwargs)</p></td>
<td><p>The current implementation of this backend is read-only</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">store</span></code>(*args, **kwargs)</p></td>
<td><p>The current implementation of this backend is read-only</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">all_devices</span></code></p></td>
<td><p>All of the devices in the database</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">device_translations</span></code></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../containers.html" class="btn btn-neutral float-right" title="Containers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="happi.backends.json_db.JSONBackend.html" class="btn btn-neutral float-left" title="happi.backends.json_db.JSONBackend" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2017, SLAC National Accelerator Laboratory

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>